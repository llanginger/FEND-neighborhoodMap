function toggleBounce(){null!==marker.getAnimation()?marker.setAnimation(null):marker.setAnimation(google.maps.Animation.BOUNCE)}function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:myLatLong,zoom:15})}$(function(){$(".nav-toggle").on("click",function(){$(".wrapper").toggleClass("open")});var e=function(e){this.name=ko.observable(e.name),this.address=ko.observable(e.address),this.rating=ko.observable(e.rating)},o=function(){var e=this;this.searchLocation=ko.observable("ballard, wa"),this.searchCategory=ko.observable("coffee"),this.resultName=ko.observable(),this.resultLimit=ko.observable(10),this.fourSquareResults=ko.observableArray([]),this.selectedItems=ko.observableArray([]),this.currentItem=ko.observable(),this.removeSelected=function(){e.fourSquareResults.removeAll(e.selectedItems()),e.selectedItems([]),console.log(e.fourSquareResults()[0].name)},this.displayRandom=function(){var o=Math.floor(Math.random()*e.fourSquareResults().length);e.currentItem(e.fourSquareResults()[o]);var a=e.currentItem().lat,t=e.currentItem().lng;e.resultName(e.currentItem().name),console.log(e.resultName()),console.log(e.currentItem()),myLatLong={lat:a,lng:t},map.panTo(myLatLong),marker?marker.setPosition(myLatLong):marker=new google.maps.Marker({position:myLatLong,map:map,title:"Ohai, a marker!",animation:google.maps.Animation.DROP}),marker.addListener("click",toggleBounce),infoWindow&&infoWindow.close(),infoWindow=new google.maps.InfoWindow({content:'<div id="content"><h1 id="firstHeading" class="firstHeading">'+e.resultName()+"</h1></div>"}),infoWindow.open(map,marker,this)},this.fourSquareApiCall=function(){e.fourSquareResults([]);var o={baseUrl:"https://api.foursquare.com/v2/venues/search?",clientID:"&client_id=WGMJMEF5PGBY0Z2VPGOTUV4IZWYTZS5V1E0TPIJHBSHRXNWS",clientSecret:"&client_secret=MPIRWAHDMNBZVY2LSAVR1Y0WLQEP5SLDQHIXJZLVFILJHJDQ",loc:"near="+e.searchLocation(),cat:"&query="+e.searchCategory(),limit:"&limit="+e.resultLimit()},a=o.baseUrl+o.loc+o.clientID+o.clientSecret+"&v=20130815"+o.cat+o.limit;$.ajax(a).fail(function(e){console.log("Failed 4square request")}).done(function(o){console.log(o);var a=o.response.venues;for(var t in a)e.fourSquareResults.push({name:a[t].name,lat:a[t].location.lat,lng:a[t].location.lng})})}};ko.applyBindings(new o)});var myLatLongArray=[[47.6792,-122.386]],myLatLong={lat:47.6792,lng:-122.386},map,marker,infoWindow;